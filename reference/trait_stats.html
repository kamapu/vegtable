<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Statistics and proportion for taxon traits — trait_stats • vegtable</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Statistics and proportion for taxon traits — trait_stats"><meta name="description" content="Calculation of statistics and proportions of taxon traits for plot
observations or groups of observations, considering data relationships,
taxonomic ranks and the handling of not available values.
In trait_stats() you can use customized functions, which have to be
defined as foo(x, w, ...), where 'x' is the (numeric) taxon trait and
'w' is the weight (e.g. the abundance).
With the arguments taxon_levels and merge_to the used taxonomic ranks
can be defined, where the first one indicates which ranks
have to be considered in the calculations and the second one determine the
aggregation of taxa from a lower level to a parental one."><meta property="og:description" content="Calculation of statistics and proportions of taxon traits for plot
observations or groups of observations, considering data relationships,
taxonomic ranks and the handling of not available values.
In trait_stats() you can use customized functions, which have to be
defined as foo(x, w, ...), where 'x' is the (numeric) taxon trait and
'w' is the weight (e.g. the abundance).
With the arguments taxon_levels and merge_to the used taxonomic ranks
can be defined, where the first one indicates which ranks
have to be considered in the calculations and the second one determine the
aggregation of taxa from a lower level to a parental one."><meta property="og:image" content="http://kamapu.github.io/vegtable/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">vegtable</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.10</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/kamapu/vegtable/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Statistics and proportion for taxon traits</h1>
      <small class="dont-index">Source: <a href="https://github.com/kamapu/vegtable/blob/main/R/trait_stats.R" class="external-link"><code>R/trait_stats.R</code></a></small>
      <div class="d-none name"><code>trait_stats.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Calculation of statistics and proportions of taxon traits for plot
observations or groups of observations, considering data relationships,
taxonomic ranks and the handling of not available values.</p>
<p>In <code>trait_stats()</code> you can use customized functions, which have to be
defined as <code>foo(x, w, ...)</code>, where <code>'x'</code> is the (numeric) taxon trait and
<code>'w'</code> is the weight (e.g. the abundance).</p>
<p>With the arguments <code>taxon_levels</code> and <code>merge_to</code> the used taxonomic ranks
can be defined, where the first one indicates which ranks
have to be considered in the calculations and the second one determine the
aggregation of taxa from a lower level to a parental one.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">trait_stats</span><span class="op">(</span><span class="va">trait</span>, <span class="va">object</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'character,vegtable'</span></span>
<span><span class="fu">trait_stats</span><span class="op">(</span></span>
<span>  <span class="va">trait</span>,</span>
<span>  <span class="va">object</span>,</span>
<span>  <span class="va">FUN</span>,</span>
<span>  head_var <span class="op">=</span> <span class="st">"ReleveID"</span>,</span>
<span>  <span class="va">taxon_levels</span>,</span>
<span>  <span class="va">merge_to</span>,</span>
<span>  <span class="va">weight</span>,</span>
<span>  suffix <span class="op">=</span> <span class="st">"_stats"</span>,</span>
<span>  in_header <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'formula,vegtable'</span></span>
<span><span class="fu">trait_stats</span><span class="op">(</span><span class="va">trait</span>, <span class="va">object</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">trait_proportion</span><span class="op">(</span><span class="va">trait</span>, <span class="va">object</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'character,vegtable'</span></span>
<span><span class="fu">trait_proportion</span><span class="op">(</span></span>
<span>  <span class="va">trait</span>,</span>
<span>  <span class="va">object</span>,</span>
<span>  head_var <span class="op">=</span> <span class="st">"ReleveID"</span>,</span>
<span>  <span class="va">trait_levels</span>,</span>
<span>  <span class="va">taxon_levels</span>,</span>
<span>  <span class="va">merge_to</span>,</span>
<span>  include_nas <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">weight</span>,</span>
<span>  suffix <span class="op">=</span> <span class="st">"_prop"</span>,</span>
<span>  in_header <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'formula,vegtable'</span></span>
<span><span class="fu">trait_proportion</span><span class="op">(</span><span class="va">trait</span>, <span class="va">object</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-trait">trait<a class="anchor" aria-label="anchor" href="#arg-trait"></a></dt>
<dd><p>Either a character value indicating the name of trait variable
or a formula as <code>'trait ~ head_var'</code>. Note that you can add multiple
variables in the form <code>trait_1 + ... + trait_n ~ head_var</code>.</p></dd>


<dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>A <a href="vegtable-class.html">vegtable</a> object.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Further arguments passed among methods. In the case of the
character method, they are passed to 'FUN'.</p></dd>


<dt id="arg-fun">FUN<a class="anchor" aria-label="anchor" href="#arg-fun"></a></dt>
<dd><p>A function usually defined as <code>foo(x)</code> or as
<code>foo(x, w)</code> for weighted statistics.</p></dd>


<dt id="arg-head-var">head_var<a class="anchor" aria-label="anchor" href="#arg-head-var"></a></dt>
<dd><p>Character value, the name of the variable at slot header to
be used as aggregation level for the calculation of statistics or
proportions.
If not provided, the function will use <strong>ReleveID</strong> by default.</p></dd>


<dt id="arg-taxon-levels">taxon_levels<a class="anchor" aria-label="anchor" href="#arg-taxon-levels"></a></dt>
<dd><p>Character vector indicating the selected taxonomic ranks
to be considered in the output.</p></dd>


<dt id="arg-merge-to">merge_to<a class="anchor" aria-label="anchor" href="#arg-merge-to"></a></dt>
<dd><p>Character value indicating the taxonomic rank for
aggregation of taxa.
All ranks lower than the one indicated here will be assigned to the
respective parents at the required taxonomic rank.</p></dd>


<dt id="arg-weight">weight<a class="anchor" aria-label="anchor" href="#arg-weight"></a></dt>
<dd><p>Character value indicating the name of the variable at slot
<strong>samples</strong> used as weight for the proportions. Usually the numeric
abundance.</p></dd>


<dt id="arg-suffix">suffix<a class="anchor" aria-label="anchor" href="#arg-suffix"></a></dt>
<dd><p>A suffix added to the name of the trait variable or to the
levels of categorical trait variables. I is meant to avoid homonymous
variables within the same object.</p></dd>


<dt id="arg-in-header">in_header<a class="anchor" aria-label="anchor" href="#arg-in-header"></a></dt>
<dd><p>Logical value indicating whether the output should be
inserted in the slot <strong>header</strong> or provided as data frame. In the case
that <code>'head_var'</code> (or the right term in the formula method) is different
from <strong>ReleveID</strong>, the statistics and proportions will be inserted in the
respective data frame at slot <strong>relations</strong>.</p></dd>


<dt id="arg-trait-levels">trait_levels<a class="anchor" aria-label="anchor" href="#arg-trait-levels"></a></dt>
<dd><p>Character vector indicating a selection of levels from a
trait, in the case that some levels should be ignored in the output.
Trait levels that are skipped at output will be still used for the
calculation of proportions.
This argument gets only applied for the character method.</p></dd>


<dt id="arg-include-nas">include_nas<a class="anchor" aria-label="anchor" href="#arg-include-nas"></a></dt>
<dd><p>Logical value indicating whether NAs should be considered
for the calculation of proportions or not.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data frame with the proportions of traits levels or statistics for
the trait variable, or an object of class <a href="vegtable-class.html">vegtable</a> including those
results at the slot <code>header</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Miguel Alvarez <a href="mailto:kamapu78@gmail.com">kamapu78@gmail.com</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">veg</span> <span class="op">&lt;-</span> <span class="fu"><a href="cover_trans.html">cover_trans</a></span><span class="op">(</span><span class="va">Kenya_veg</span>, to <span class="op">=</span> <span class="st">"cover"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">veg</span> <span class="op">&lt;-</span> <span class="fu">trait_proportion</span><span class="op">(</span><span class="st">"lf_behn_2018"</span>, <span class="va">veg</span>,</span></span>
<span class="r-in"><span>  trait_levels <span class="op">=</span> <span class="st">"obligate_annual"</span>, weight <span class="op">=</span> <span class="st">"cover"</span>, include_nas <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="summary.html">summary</a></span><span class="op">(</span><span class="va">veg</span><span class="op">$</span><span class="va">obligate_annual_prop</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.00769 0.25000 0.50000 0.49922 0.71429 1.00000    1039 </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Miguel Alvarez.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

