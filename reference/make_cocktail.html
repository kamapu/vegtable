<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Produce a Cocktail classification — make_cocktail • vegtable</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Produce a Cocktail classification — make_cocktail"><meta name="description" content="Classification of vegtable objects according to Cocktail
algorithms.
Cocktail algorithms are logical functions selecting plots according to
either occurrence of species groups and cover values of single species. A
group will be declared as occurring in a plot when at least a half of its
members is present in the plot.
This function inserts single columns with logical values indicating whether
a plot is classified in the vegetation unit or not. An additional column
(name provided in argument syntax) compile all vegetation units,
indicating with a + symbol those plots classified in more than one
vegetation unit.
When only a part of the formulas will be used, it should be
specified by the argument which.
These functions are implemented for constructing or complementing
shaker objects.
Note that construction of those objects will always require a companion
object, which is either an object of class taxlist::taxlist or
vegtable."><meta property="og:description" content="Classification of vegtable objects according to Cocktail
algorithms.
Cocktail algorithms are logical functions selecting plots according to
either occurrence of species groups and cover values of single species. A
group will be declared as occurring in a plot when at least a half of its
members is present in the plot.
This function inserts single columns with logical values indicating whether
a plot is classified in the vegetation unit or not. An additional column
(name provided in argument syntax) compile all vegetation units,
indicating with a + symbol those plots classified in more than one
vegetation unit.
When only a part of the formulas will be used, it should be
specified by the argument which.
These functions are implemented for constructing or complementing
shaker objects.
Note that construction of those objects will always require a companion
object, which is either an object of class taxlist::taxlist or
vegtable."><meta property="og:image" content="http://kamapu.github.io/vegtable/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">vegtable</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.10</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/kamapu/vegtable/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Produce a Cocktail classification</h1>
      <small class="dont-index">Source: <a href="https://github.com/kamapu/vegtable/blob/v0.1.10/R/make_cocktail.R" class="external-link"><code>R/make_cocktail.R</code></a></small>
      <div class="d-none name"><code>make_cocktail.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Classification of <a href="vegtable-class.html">vegtable</a> objects according to <strong>Cocktail</strong>
algorithms.</p>
<p>Cocktail algorithms are logical functions selecting plots according to
either occurrence of species groups and cover values of single species. A
group will be declared as occurring in a plot when at least a half of its
members is present in the plot.</p>
<p>This function inserts single columns with logical values indicating whether
a plot is classified in the vegetation unit or not. An additional column
(name provided in argument <code>syntax</code>) compile all vegetation units,
indicating with a <code>+</code> symbol those plots classified in more than one
vegetation unit.
When only a part of the formulas will be used, it should be
specified by the argument <code>which</code>.</p>
<p>These functions are implemented for constructing or complementing
<a href="shaker-class.html">shaker</a> objects.
Note that construction of those objects will always require a <code>companion</code>
object, which is either an object of class <a href="https://docs.ropensci.org/taxlist/reference/taxlist-class.html" class="external-link">taxlist::taxlist</a> or
<a href="vegtable-class.html">vegtable</a>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">set_group</span><span class="op">(</span><span class="va">shaker</span>, <span class="va">companion</span>, <span class="va">group</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'shaker,taxlist,character'</span></span>
<span><span class="fu">set_group</span><span class="op">(</span></span>
<span>  <span class="va">shaker</span>,</span>
<span>  <span class="va">companion</span>,</span>
<span>  <span class="va">group</span>,</span>
<span>  <span class="va">group_id</span>,</span>
<span>  authority <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  enc_cont <span class="op">=</span> <span class="st">"latin1"</span>,</span>
<span>  enc_gr <span class="op">=</span> <span class="st">"utf8"</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'shaker,vegtable,character'</span></span>
<span><span class="fu">set_group</span><span class="op">(</span><span class="va">shaker</span>, <span class="va">companion</span>, <span class="va">group</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">set_pseudo</span><span class="op">(</span><span class="va">shaker</span>, <span class="va">companion</span>, <span class="va">pseudo</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'shaker,taxlist,character'</span></span>
<span><span class="fu">set_pseudo</span><span class="op">(</span></span>
<span>  <span class="va">shaker</span>,</span>
<span>  <span class="va">companion</span>,</span>
<span>  <span class="va">pseudo</span>,</span>
<span>  <span class="va">pseudo_id</span>,</span>
<span>  authority <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  enc_cont <span class="op">=</span> <span class="st">"latin1"</span>,</span>
<span>  enc_gr <span class="op">=</span> <span class="st">"utf8"</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'shaker,vegtable,character'</span></span>
<span><span class="fu">set_pseudo</span><span class="op">(</span><span class="va">shaker</span>, <span class="va">companion</span>, <span class="va">pseudo</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">set_formula</span><span class="op">(</span><span class="va">shaker</span>, <span class="va">companion</span>, <span class="va">formula</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'shaker,taxlist,character'</span></span>
<span><span class="fu">set_formula</span><span class="op">(</span></span>
<span>  <span class="va">shaker</span>,</span>
<span>  <span class="va">companion</span>,</span>
<span>  <span class="va">formula</span>,</span>
<span>  <span class="va">formula_id</span>,</span>
<span>  authority <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  enc_cont <span class="op">=</span> <span class="st">"latin1"</span>,</span>
<span>  enc_gr <span class="op">=</span> <span class="st">"utf8"</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'shaker,vegtable,character'</span></span>
<span><span class="fu">set_formula</span><span class="op">(</span><span class="va">shaker</span>, <span class="va">companion</span>, <span class="va">formula</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">make_cocktail</span><span class="op">(</span><span class="va">shaker</span>, <span class="va">vegtable</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'shaker,vegtable'</span></span>
<span><span class="fu">make_cocktail</span><span class="op">(</span></span>
<span>  <span class="va">shaker</span>,</span>
<span>  <span class="va">vegtable</span>,</span>
<span>  <span class="va">which</span>,</span>
<span>  <span class="va">cover</span>,</span>
<span>  syntax <span class="op">=</span> <span class="st">"Syntax"</span>,</span>
<span>  FUN <span class="op">=</span> <span class="va">sum</span>,</span>
<span>  in_header <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-shaker">shaker<a class="anchor" aria-label="anchor" href="#arg-shaker"></a></dt>
<dd><p>An object of class <a href="shaker-class.html">shaker</a> containing the respective
cocktail definitions.</p></dd>


<dt id="arg-companion">companion<a class="anchor" aria-label="anchor" href="#arg-companion"></a></dt>
<dd><p>Either a <a href="https://docs.ropensci.org/taxlist/reference/taxlist-class.html" class="external-link">taxlist::taxlist</a> or a <a href="vegtable-class.html">vegtable</a>
object.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Further arguments passes from or to other methods.</p></dd>


<dt id="arg-authority">authority<a class="anchor" aria-label="anchor" href="#arg-authority"></a></dt>
<dd><p>Logical value indicating whether author names should be
included in the taxon name or not.</p></dd>


<dt id="arg-enc-cont-enc-gr">enc_cont, enc_gr<a class="anchor" aria-label="anchor" href="#arg-enc-cont-enc-gr"></a></dt>
<dd><p>Encodings used for special characters.</p></dd>


<dt id="arg-pseudo-group">pseudo, group<a class="anchor" aria-label="anchor" href="#arg-pseudo-group"></a></dt>
<dd><p>Character vector with names of taxa included in a
pseudo-species or a species group.</p></dd>


<dt id="arg-pseudo-id-group-id-formula-id">pseudo_id, group_id, formula_id<a class="anchor" aria-label="anchor" href="#arg-pseudo-id-group-id-formula-id"></a></dt>
<dd><p>Character value as name of the
pseudo-species, species group or defined vegetation unit.</p></dd>


<dt id="arg-formula">formula<a class="anchor" aria-label="anchor" href="#arg-formula"></a></dt>
<dd><p>Character vector including a formula as definition of a
vegetation unit.</p></dd>


<dt id="arg-vegtable">vegtable<a class="anchor" aria-label="anchor" href="#arg-vegtable"></a></dt>
<dd><p>An object of class <a href="vegtable-class.html">vegtable</a> containing the
vegetation observations to be classified.</p></dd>


<dt id="arg-which">which<a class="anchor" aria-label="anchor" href="#arg-which"></a></dt>
<dd><p>Integer or character indicating the definition to be applied
for classification.</p></dd>


<dt id="arg-cover">cover<a class="anchor" aria-label="anchor" href="#arg-cover"></a></dt>
<dd><p>Name of the cover variable in <code>vegtable</code>.</p></dd>


<dt id="arg-syntax">syntax<a class="anchor" aria-label="anchor" href="#arg-syntax"></a></dt>
<dd><p>Character value indicating the name of the retrieved variable
including the final classification of plots.</p></dd>


<dt id="arg-fun">FUN<a class="anchor" aria-label="anchor" href="#arg-fun"></a></dt>
<dd><p>Function used for merging multiple occurrence of species in a
single plot.</p></dd>


<dt id="arg-in-header">in_header<a class="anchor" aria-label="anchor" href="#arg-in-header"></a></dt>
<dd><p>Logical value indicating whether results of Cocktail
classification should be inserted to the header of the input vegtable or
not. In the second case, a data frame is provided as output.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data frame corresponding to the slot <code>header</code> of input object <code>vegtable</code>,
including the results of Cocktail classification for the respective plots.</p>
<p>A <a href="shaker-class.html">shaker</a> object.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p><b>Alvarez M (2017).</b> Classification of aquatic and
semi-aquatic vegetation in two East African sites: Cocktail definitions and
syntaxonomy. <em>Phytocoenologia</em>.</p>
<p><b>Bruelheide H (2000).</b> A new measure of fidelity and its application to
defining species groups. <em>Journal of Vegetation Science</em> 11: 167–178.</p>
<p><b>Kočí M, Chytrý M, Tichý L (2003).</b> Formalized reproduction of an
expert-based phytosociological classification: a case study of subalpine
tall-forb vegetation. <em>Journal of Vegetation Science</em> 14: 601–610.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="shaker-class.html">shaker</a> <a href="vegtable-class.html">vegtable</a> <a href="Wetlands-data.html">Wetlands</a></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Miguel Alvarez <a href="mailto:kamapu78@gmail.com">kamapu78@gmail.com</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## Example from Alvarez (2017)</span></span></span>
<span class="r-in"><span><span class="va">Wetlands_veg</span> <span class="op">&lt;-</span> <span class="fu">make_cocktail</span><span class="op">(</span><span class="va">Wetlands</span>, <span class="va">Wetlands_veg</span>, cover <span class="op">=</span> <span class="st">"percen"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="summary.html">summary</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">Wetlands_veg</span><span class="op">@</span><span class="va">header</span><span class="op">$</span><span class="va">Syntax</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    +  HE1  HE2  HE3  HE4  HE5  HE6  HE7  HY1  HY2 NA's </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1   10   10   10    6    8    4    2   10    8   31 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Same but only for two vegetation units</span></span></span>
<span class="r-in"><span><span class="va">Wetlands_veg</span> <span class="op">&lt;-</span> <span class="fu">make_cocktail</span><span class="op">(</span><span class="va">Wetlands</span>, <span class="va">Wetlands_veg</span>,</span></span>
<span class="r-in"><span>  which <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HY1"</span>, <span class="st">"HY2"</span><span class="op">)</span>, cover <span class="op">=</span> <span class="st">"percen"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="summary.html">summary</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">Wetlands_veg</span><span class="op">$</span><span class="va">Syntax</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  HY1  HY2 NA's </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   10    8   82 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Construct the 'shaker' object anew</span></span></span>
<span class="r-in"><span><span class="va">Wetlands</span> <span class="op">&lt;-</span> <span class="fu">new</span><span class="op">(</span><span class="st">"shaker"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Set a pseudo-species</span></span></span>
<span class="r-in"><span><span class="va">Wetlands</span> <span class="op">&lt;-</span> <span class="fu">set_pseudo</span><span class="op">(</span><span class="va">Wetlands</span>, <span class="va">Wetlands_veg</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"Cyperus latifolius"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"Cyperus exaltatus"</span></span></span>
<span class="r-in"><span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Set a species group</span></span></span>
<span class="r-in"><span><span class="va">Wetlands</span> <span class="op">&lt;-</span> <span class="fu">set_group</span><span class="op">(</span><span class="va">Wetlands</span>, <span class="va">Wetlands_veg</span>,</span></span>
<span class="r-in"><span>  group_id <span class="op">=</span> <span class="st">"Cyperus papyrus"</span>,</span></span>
<span class="r-in"><span>  group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">"Cyperus papyrus"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"Cyclosorus interruptus"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"Lepistemon owariense"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Set a fromula</span></span></span>
<span class="r-in"><span><span class="va">Wetlands</span> <span class="op">&lt;-</span> <span class="fu">set_formula</span><span class="op">(</span><span class="va">Wetlands</span>, <span class="va">Wetlands_veg</span>,</span></span>
<span class="r-in"><span>  formula_id <span class="op">=</span> <span class="st">"HE1"</span>,</span></span>
<span class="r-in"><span>  formula <span class="op">=</span> <span class="st">"groups:'Cyperus papyrus' | species:'Cyperus papyrus &gt; 50'"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Summaries</span></span></span>
<span class="r-in"><span><span class="fu"><a href="summary.html">summary</a></span><span class="op">(</span><span class="va">Wetlands</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of pseudo-species: 1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of species groups: 1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of formulas: 1 </span>
<span class="r-in"><span><span class="fu"><a href="summary.html">summary</a></span><span class="op">(</span><span class="va">Wetlands</span>, <span class="va">Wetlands_veg</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Pseudo-species: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * 'Cyperus latifolius' contains: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      Cyperus exaltatus </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Species groups: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * 'Cyperus papyrus' group: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      Cyperus papyrus </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      Cyclosorus interruptus </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      Lepistemon owariense </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Formulas: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * HE1: groups:'Cyperus papyrus' | species:'Cyperus papyrus &gt; 50' </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Miguel Alvarez.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

