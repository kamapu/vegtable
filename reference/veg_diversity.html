<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Calculation of statistics at plot level — veg_diverstiy • vegtable</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Calculation of statistics at plot level — veg_diverstiy"><meta name="description" content="Calculation of diversity statistics at the plot level allowing for customized
functions defined as foo(x, ...), where x is the vector of abundance
values.
This function calls taxa2samples() to derive taxa from taxon usage names in
slot samples and multiple records of species in a single plot will be
merged by stats::aggregate.
The functions shannon(), evenness(), and dominance() calculate the
diversity index of Shannon, the evenness, and the dominance
(1 - evenness), respectively.
Dominance is the complementary value to evenness (i.e. 1 - evenness).
The function simpson() calculates the Simpson's index using the alternative
for vegetation plot observations.
The function richness() counts the number of taxa per plot and can be used
as alternative to vegtable::count_taxa."><meta property="og:description" content="Calculation of diversity statistics at the plot level allowing for customized
functions defined as foo(x, ...), where x is the vector of abundance
values.
This function calls taxa2samples() to derive taxa from taxon usage names in
slot samples and multiple records of species in a single plot will be
merged by stats::aggregate.
The functions shannon(), evenness(), and dominance() calculate the
diversity index of Shannon, the evenness, and the dominance
(1 - evenness), respectively.
Dominance is the complementary value to evenness (i.e. 1 - evenness).
The function simpson() calculates the Simpson's index using the alternative
for vegetation plot observations.
The function richness() counts the number of taxa per plot and can be used
as alternative to vegtable::count_taxa."><meta property="og:image" content="http://kamapu.github.io/vegtable/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">vegtable</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.10</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/kamapu/vegtable/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Calculation of statistics at plot level</h1>
      <small class="dont-index">Source: <a href="https://github.com/kamapu/vegtable/blob/v0.1.10/R/veg_diversity.R" class="external-link"><code>R/veg_diversity.R</code></a></small>
      <div class="d-none name"><code>veg_diversity.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Calculation of diversity statistics at the plot level allowing for customized
functions defined as <code>foo(x, ...)</code>, where <code>x</code> is the vector of abundance
values.</p>
<p>This function calls <code><a href="taxa2samples.html">taxa2samples()</a></code> to derive taxa from taxon usage names in
slot <strong>samples</strong> and multiple records of species in a single plot will be
merged by <a href="https://rdrr.io/r/stats/aggregate.html" class="external-link">stats::aggregate</a>.</p>
<p>The functions <code>shannon()</code>, <code>evenness()</code>, and <code>dominance()</code> calculate the
diversity index of Shannon, the evenness, and the dominance
(<em>1 - evenness</em>), respectively.
Dominance is the complementary value to evenness (i.e. <code>1 - evenness</code>).</p>
<p>The function <code>simpson()</code> calculates the Simpson's index using the alternative
for vegetation plot observations.</p>
<p>The function <code>richness()</code> counts the number of taxa per plot and can be used
as alternative to <a href="count_taxa.html">vegtable::count_taxa</a>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">shannon</span><span class="op">(</span><span class="va">x</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">evenness</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">dominance</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">simpson</span><span class="op">(</span><span class="va">x</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">richness</span><span class="op">(</span><span class="va">x</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">veg_diversity</span><span class="op">(</span><span class="va">object</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'vegtable'</span></span>
<span><span class="fu">veg_diversity</span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  <span class="va">weight</span>,</span>
<span>  FUN <span class="op">=</span> <span class="va">shannon</span>,</span>
<span>  aggr_fun <span class="op">=</span> <span class="va">mean</span>,</span>
<span>  arg_fun <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="va">var_name</span>,</span>
<span>  in_header <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A numeric vector containing the abundance of single species.</p></dd>


<dt id="arg-na-rm">na.rm<a class="anchor" aria-label="anchor" href="#arg-na-rm"></a></dt>
<dd><p>A logical value indicating whether NA values should be removed
from the abundance vector or not.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Further arguments passed among methods. In <code>'evenness()'</code> and
<code>'dominance()'</code>, these arguments are passed to <code>'shannon()'</code>.
In <code>'veg_diversity()'</code>, these arguments are passed to <code><a href="https://rdrr.io/r/stats/aggregate.html" class="external-link">aggregate()</a></code>
(actually to <code>'FUN'</code>).</p></dd>


<dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>A <a href="vegtable-class.html">vegtable</a> object.</p></dd>


<dt id="arg-weight">weight<a class="anchor" aria-label="anchor" href="#arg-weight"></a></dt>
<dd><p>A character value indicating the name of the column at slot
<strong>samples</strong> which will be used as species abundance.</p></dd>


<dt id="arg-fun">FUN<a class="anchor" aria-label="anchor" href="#arg-fun"></a></dt>
<dd><p>A function used to calculate the diversity index.</p></dd>


<dt id="arg-aggr-fun">aggr_fun<a class="anchor" aria-label="anchor" href="#arg-aggr-fun"></a></dt>
<dd><p>A function used to aggregate abundance values for multiple
records of a taxon in a plot observation. Average value is used by
default.</p></dd>


<dt id="arg-arg-fun">arg_fun<a class="anchor" aria-label="anchor" href="#arg-arg-fun"></a></dt>
<dd><p>A named list with parameters and arguments passed to
<code><a href="taxa2samples.html">taxa2samples()</a></code>, which will
retrieve the respective taxon concept for each taxon usage name and can
be used to merge taxa at a determined taxonomic rank, for instance to
merge all sub-specific taxa into their respective species
(i.e. <code>'merge_to = "species"'</code>).</p></dd>


<dt id="arg-var-name">var_name<a class="anchor" aria-label="anchor" href="#arg-var-name"></a></dt>
<dd><p>A character value used as name for the calculated index.
If missing, the name of the function will be used.</p></dd>


<dt id="arg-in-header">in_header<a class="anchor" aria-label="anchor" href="#arg-in-header"></a></dt>
<dd><p>A logical value indicating whether the results should be
included as variables in the slot <strong>header</strong> of the input object.
If <code>'in_header = TRUE'</code>, you may assign the result of the function to the
input object.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Functions <code>shannon()</code>, <code>evenness()</code>, <code>dominance()</code>, <code>simpson()</code>, and
<code>richness()</code> return a numeric value (the calculated index).</p>
<p>Funtion <code>veg_diversity()</code> produce either a data frame with calculated values
per plot observation (option <code>'in_header = FALSE'</code>) or a <a href="vegtable-class.html">vegtable</a>
object with the calculated values inserted in the slot <strong>header</strong>
(option <code>'in_header = TRUE'</code>).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## Compare Evenness with Shannon index</span></span></span>
<span class="r-in"><span><span class="va">Kenya_veg</span> <span class="op">&lt;-</span> <span class="fu"><a href="cover_trans.html">cover_trans</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Kenya_veg</span>, to <span class="op">=</span> <span class="st">"cover"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">Kenya_veg</span> <span class="op">&lt;-</span> <span class="fu">veg_diversity</span><span class="op">(</span>object <span class="op">=</span> <span class="va">Kenya_veg</span>, weight <span class="op">=</span> <span class="st">"cover"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">Kenya_veg</span> <span class="op">&lt;-</span> <span class="fu">veg_diversity</span><span class="op">(</span>object <span class="op">=</span> <span class="va">Kenya_veg</span>, weight <span class="op">=</span> <span class="st">"cover"</span>, FUN <span class="op">=</span> <span class="va">evenness</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">Kenya_veg</span><span class="op">@</span><span class="va">header</span>, <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">shannon</span>, <span class="va">evenness</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="veg_diversity-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Miguel Alvarez.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

