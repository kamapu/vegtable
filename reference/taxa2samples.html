<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Insert taxon information into samples — taxa2samples • vegtable</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Insert taxon information into samples — taxa2samples"><meta name="description" content="For statistical purposes it may be necessary to insert information on
recorded taxa into the slot samples, which contain the records of taxa in
sampling plots.
This can be also done selectivelly for specific taxonomic ranks and lower
ranks can be aggregated to their parental ones.
If column TaxonConceptID is already existing in 'objec@samples',
this column will get overwritten, retrieving a warning message."><meta property="og:description" content="For statistical purposes it may be necessary to insert information on
recorded taxa into the slot samples, which contain the records of taxa in
sampling plots.
This can be also done selectivelly for specific taxonomic ranks and lower
ranks can be aggregated to their parental ones.
If column TaxonConceptID is already existing in 'objec@samples',
this column will get overwritten, retrieving a warning message."><meta property="og:image" content="http://kamapu.github.io/vegtable/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">vegtable</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.11</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/kamapu/vegtable/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Insert taxon information into samples</h1>
      <small class="dont-index">Source: <a href="https://github.com/kamapu/vegtable/blob/main/R/taxa2samples.R" class="external-link"><code>R/taxa2samples.R</code></a></small>
      <div class="d-none name"><code>taxa2samples.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>For statistical purposes it may be necessary to insert information on
recorded taxa into the slot samples, which contain the records of taxa in
sampling plots.
This can be also done selectivelly for specific taxonomic ranks and lower
ranks can be aggregated to their parental ones.</p>
<p>If column <strong>TaxonConceptID</strong> is already existing in <code>'objec@samples'</code>,
this column will get overwritten, retrieving a warning message.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">taxa2samples</span><span class="op">(</span><span class="va">object</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'vegtable'</span></span>
<span><span class="fu">taxa2samples</span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  <span class="va">merge_to</span>,</span>
<span>  <span class="va">include_levels</span>,</span>
<span>  add_relations <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  add_traits <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>A <a href="vegtable-class.html">vegtable</a> object.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Further arguments passed among methods.</p></dd>


<dt id="arg-merge-to">merge_to<a class="anchor" aria-label="anchor" href="#arg-merge-to"></a></dt>
<dd><p>Character value indicating the level (taxonomic rank) to
which taxa of lower rank have to be merged.</p></dd>


<dt id="arg-include-levels">include_levels<a class="anchor" aria-label="anchor" href="#arg-include-levels"></a></dt>
<dd><p>Character vector indicating the levels to be considered
in the output object. This will set the values of <strong>TaxonConceptID</strong> and
any respective values inserted from slots <strong>taxonRelations</strong> and
<strong>taxonTraits</strong> as NA.</p></dd>


<dt id="arg-add-relations">add_relations<a class="anchor" aria-label="anchor" href="#arg-add-relations"></a></dt>
<dd><p>A logical value indicating whether the content of slot
<strong>taxonRelations</strong> have to be inserted in slot <strong>samples</strong> or not.</p></dd>


<dt id="arg-add-traits">add_traits<a class="anchor" aria-label="anchor" href="#arg-add-traits"></a></dt>
<dd><p>A logical value indicating whether the content of slot
<strong>taxonTraits</strong> have to be inserted in slot <strong>samples</strong> or not.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An object of class <a href="vegtable-class.html">vegtable</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Miguel Alvarez <a href="mailto:kamapu78@gmail.com">kamapu78@gmail.com</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## Add only variable TaxonConceptID</span></span></span>
<span class="r-in"><span><span class="va">veg</span> <span class="op">&lt;-</span> <span class="fu">taxa2samples</span><span class="op">(</span><span class="va">Kenya_veg</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">veg</span><span class="op">@</span><span class="va">samples</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   TaxonUsageID ReleveID COVER_CODE LAYER SOCIABILIT INDIVID br_bl b_bbds</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1           18      358          +     0       &lt;NA&gt;    &lt;NA&gt;     +   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2           18      470          +     0       &lt;NA&gt;    &lt;NA&gt;     +   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3           18     1634          +     0       &lt;NA&gt;    &lt;NA&gt;     +   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4           18      587          +     0       &lt;NA&gt;    &lt;NA&gt;     +   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5           18     1949         2m     0       &lt;NA&gt;    &lt;NA&gt;  &lt;NA&gt;     2m</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6           18     1777          +     0       &lt;NA&gt;    &lt;NA&gt;     +   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   TaxonConceptID</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1             18</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2             18</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3             18</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4             18</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5             18</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6             18</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Add also information from slots taxonRelations and taxonTraits</span></span></span>
<span class="r-in"><span><span class="va">veg</span> <span class="op">&lt;-</span> <span class="fu">taxa2samples</span><span class="op">(</span><span class="va">Kenya_veg</span>, add_relations <span class="op">=</span> <span class="cn">TRUE</span>, add_traits <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">veg</span><span class="op">@</span><span class="va">samples</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   TaxonUsageID ReleveID COVER_CODE LAYER SOCIABILIT INDIVID br_bl b_bbds</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1           18      358          +     0       &lt;NA&gt;    &lt;NA&gt;     +   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2           18      470          +     0       &lt;NA&gt;    &lt;NA&gt;     +   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3           18     1634          +     0       &lt;NA&gt;    &lt;NA&gt;     +   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4           18      587          +     0       &lt;NA&gt;    &lt;NA&gt;     +   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5           18     1949         2m     0       &lt;NA&gt;    &lt;NA&gt;  &lt;NA&gt;     2m</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6           18     1777          +     0       &lt;NA&gt;    &lt;NA&gt;     +   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   TaxonConceptID Parent   Level ViewID  uri Basionym AcceptedName</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1             18  54759 species      1 &lt;NA&gt;       NA           18</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2             18  54759 species      1 &lt;NA&gt;       NA           18</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3             18  54759 species      1 &lt;NA&gt;       NA           18</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4             18  54759 species      1 &lt;NA&gt;       NA           18</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5             18  54759 species      1 &lt;NA&gt;       NA           18</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6             18  54759 species      1 &lt;NA&gt;       NA           18</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         lf_behn_2018</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 facultative_annual</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 facultative_annual</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 facultative_annual</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 facultative_annual</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 facultative_annual</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 facultative_annual</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Different ranks recorded at samples</span></span></span>
<span class="r-in"><span><span class="va">veg</span> <span class="op">&lt;-</span> <span class="fu">taxa2samples</span><span class="op">(</span><span class="va">Kenya_veg</span>, add_relations <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="summary.html">summary</a></span><span class="op">(</span><span class="va">veg</span><span class="op">@</span><span class="va">samples</span><span class="op">$</span><span class="va">Level</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       form    variety subspecies    species    complex      genus     family </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          0       2489       2453      68685          0        914          0 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Aggregate taxa to family level</span></span></span>
<span class="r-in"><span><span class="va">veg</span> <span class="op">&lt;-</span> <span class="fu">taxa2samples</span><span class="op">(</span><span class="va">Kenya_veg</span>, add_relations <span class="op">=</span> <span class="cn">TRUE</span>, merge_to <span class="op">=</span> <span class="st">"family"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="summary.html">summary</a></span><span class="op">(</span><span class="va">veg</span><span class="op">@</span><span class="va">samples</span><span class="op">$</span><span class="va">Level</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       form    variety subspecies    species    complex      genus     family </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          0          0          0          0          0          0      74531 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       NA's </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         10 </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Miguel Alvarez.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

